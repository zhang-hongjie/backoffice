<div *ngIf="user">
    <div class="page-header">
        <h1 *ngIf="user.id">Modification</h1>
        <h1 *ngIf="!user.id">Cr√©ation</h1>
    </div>

    <div *ngIf="alert" class="alert alert-danger alert-dismissible" role="alert">
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
        </button>
        {{alert}}
    </div>

    <form class="form-horizontal" (ngSubmit)="saveOrUpdateUser()" #userForm="ngForm">
        <div class="form-group" [class.has-error]="email.dirty && !email.valid">
            <label for="email" class="col-sm-offset-2 col-sm-2 control-label">Email</label>
        <span class="col-sm-4">
            <input type="email" class="form-control" id="email" placeholder="Email" aria-describedby="emailHelp"
                   required pattern="^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$"
                   [(ngModel)]="user.email" name="email" #email="ngModel">
            <span *ngIf="email.dirty && !email.valid" id="emailHelp" class="help-block">
                <span *ngIf="email.errors?.required">L'email est requise</span>
                <span *ngIf="email.errors?.pattern">L'email est invalide</span>
            </span>
        </span>
        </div>
        <div class="form-group">
            <div class="col-sm-offset-4 col-sm-2">
                <a (click)="goToUsers()" class="btn btn-link">Cancel</a>
            </div>
            <div class="col-sm-2 text-right">
                <button type="submit" class="btn btn-primary" [disabled]="!userForm.valid">Sauvegarder</button>
            </div>
        </div>
    </form>
</div>
